# ServerBar

A simple and lightweight macOS menu bar app to control local development servers installed via [Homebrew](https://brew.sh/).

![ServerBar Screenshot](https://user-images.githubusercontent.com/username/repo/assets/screenshot.png) <!-- To be replaced by the user -->

## Features

-   **Menu Bar Access**: Lives in your macOS menu bar for quick access.
-   **Service Control**: Start and stop Nginx and MariaDB individually.
-   **All In One**: Start and stop all services with a single click.
-   **Status Indicators**: A `ðŸŸ¢` or `ðŸ”´` indicator gives you an at-a-glance view of each service's status.
-   **Quick Links**: Instantly open your webroot directory or phpMyAdmin in your browser.
-   **Auto-Cleanup**: Automatically stops all running services when the app is quit.
-   **Responsive UI**: A clean, modern popover interface that provides instant feedback while services are starting or stopping.

## Requirements

-   macOS with Xcode installed (for compiling).
-   A specific Homebrew installation located at `~/Applications/homebrew`.
-   The following Homebrew packages installed:
    -   `nginx`
    -   `mariadb`
    -   `php` (specifically `php@8.3` is referenced)
    -   `phpmyadmin`

## Setup & Installation

The app is a single Swift file and can be compiled using the command line tools from Xcode.

1.  **Clone the Repository**:
    ```bash
    git clone https://github.com/your-username/ServerBar.git
    cd ServerBar
    ```

2.  **Compile the App**:
    Run the following command in your terminal. This will compile the `main.swift` file and create a `ServerBar.app` bundle.

    ```bash
    # Create the app structure
    mkdir -p ServerBar.app/Contents/MacOS
    mkdir -p ServerBar.app/Contents/Resources

    # Compile the Swift file into the app bundle
    swiftc main.swift -o ServerBar.app/Contents/MacOS/ServerBar \
        -sdk $(xcrun --show-sdk-path --sdk macosx) \
        -framework AppKit -framework Foundation
        
    # Create the necessary Info.plist
    cat << EOF > ServerBar.app/Contents/Info.plist
    <?xml version="1.0" encoding="UTF-8"?>
    <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
    <plist version="1.0">
    <dict>
        <key>CFBundleExecutable</key>
        <string>ServerBar</string>
        <key>CFBundleIdentifier</key>
        <string>com.your-domain.ServerBar</string>
        <key>CFBundleName</key>
        <string>ServerBar</string>
        <key>CFBundlePackageType</key>
        <string>APPL</string>
        <key>CFBundleShortVersionString</key>
        <string>1.0</string>
        <key>LSMinimumSystemVersion</key>
        <string>12.0</string>
        <key>LSUIElement</key>
        <string>1</string>
    </dict>
    </plist>
    EOF
    ```

3.  **Run the App**:
    You can now find `ServerBar.app` in the project directory. Move it to your `~/Applications` folder and run it.

    ```bash
    mv ServerBar.app ~/Applications/
    open ~/Applications/ServerBar.app
    ```

## Customization

This app is hard-coded to work with a specific environment. To adapt it for your own setup, you will need to edit the following values in `main.swift`:

-   `brewPath`: The absolute path to your `brew` executable.
-   `webroot`: The absolute path to your Nginx webroot directory.
-   Service Names: The names of the services (`nginx`, `mariadb`, `php@8.3`) are hard-coded in the `performServiceOperation` calls.

---

*This README was generated by Gemini.*
